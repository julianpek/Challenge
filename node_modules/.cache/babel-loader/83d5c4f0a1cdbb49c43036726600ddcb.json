{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jpek/Documents/GitHub/challenge/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jpek/Documents/GitHub/challenge/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jpek/Documents/GitHub/challenge/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useCallback}from'react';import CustomerTable from'./components/CustomerTable/CustomerTable';import NavBar from'./components/Layout/NavBar';import Container from'./components/UI/Container';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),customers=_useState2[0],setCustomers=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var fetchCustomersHandler=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);setError(null);_context.prev=2;_context.next=5;return fetch('https://rawgit.com/wvchallenges/se-exp-challenge-invoice/master/settings.json');case 5:response=_context.sent;if(response.ok){_context.next=8;break;}throw new Error('Something went wrong.');case 8:_context.next=10;return response.json();case 10:data=_context.sent;setCustomers(data.customers);setIsLoading(false);_context.next=19;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](2);setError(_context.t0.message);setIsLoading(false);case 19:case\"end\":return _context.stop();}}},_callee,null,[[2,15]]);})),[]);useEffect(function(){fetchCustomersHandler();},[fetchCustomersHandler]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(Container,{children:[!isLoading&&customers.length>0&&/*#__PURE__*/_jsx(CustomerTable,{customers:customers}),!isLoading&&customers.length===0&&!error&&/*#__PURE__*/_jsx(\"p\",{children:\"No customers found.\"}),isLoading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading customers...\"}),!isLoading&&error&&/*#__PURE__*/_jsx(\"p\",{children:error})]})]});}export default App;","map":{"version":3,"names":["useState","useEffect","useCallback","CustomerTable","NavBar","Container","App","customers","setCustomers","isLoading","setIsLoading","error","setError","fetchCustomersHandler","fetch","response","ok","Error","json","data","message","length"],"sources":["/Users/jpek/Documents/GitHub/challenge/src/App.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\n\nimport CustomerTable from './components/CustomerTable/CustomerTable';\nimport NavBar from './components/Layout/NavBar';\nimport Container from './components/UI/Container';\n\nfunction App() {\n  const [customers, setCustomers] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const fetchCustomersHandler = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch(\n        'https://rawgit.com/wvchallenges/se-exp-challenge-invoice/master/settings.json'\n      );\n      if (!response.ok) {\n        throw new Error('Something went wrong.');\n      }\n\n      const data = await response.json();\n\n      setCustomers(data.customers);\n      setIsLoading(false);\n    } catch (error) {\n      setError(error.message);\n      setIsLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchCustomersHandler();\n  }, [fetchCustomersHandler]);\n\n  return (\n    <>\n      <NavBar />\n      <Container>\n        {!isLoading && customers.length > 0 && (\n          <CustomerTable customers={customers} />\n        )}\n        {!isLoading && customers.length === 0 && !error && (\n          <p>No customers found.</p>\n        )}\n        {isLoading && <p>Loading customers...</p>}\n        {!isLoading && error && <p>{error}</p>}\n      </Container>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"oYAAA,OAASA,QAAT,CAAmBC,SAAnB,CAA8BC,WAA9B,KAAiD,OAAjD,CAEA,MAAOC,cAAP,KAA0B,0CAA1B,CACA,MAAOC,OAAP,KAAmB,4BAAnB,CACA,MAAOC,UAAP,KAAsB,2BAAtB,C,6IAEA,QAASC,IAAT,EAAe,CACb,cAAkCN,QAAQ,CAAC,EAAD,CAA1C,wCAAOO,SAAP,eAAkBC,YAAlB,eACA,eAAkCR,QAAQ,CAAC,KAAD,CAA1C,yCAAOS,SAAP,eAAkBC,YAAlB,eACA,eAA0BV,QAAQ,CAAC,IAAD,CAAlC,yCAAOW,KAAP,eAAcC,QAAd,eAEA,GAAMC,sBAAqB,CAAGX,WAAW,wEAAC,uJACxCQ,YAAY,CAAC,IAAD,CAAZ,CACAE,QAAQ,CAAC,IAAD,CAAR,CAFwC,sCAKfE,MAAK,CAC1B,+EAD0B,CALU,QAKhCC,QALgC,kBAQjCA,QAAQ,CAACC,EARwB,8BAS9B,IAAIC,MAAJ,CAAU,uBAAV,CAT8B,+BAYnBF,SAAQ,CAACG,IAAT,EAZmB,SAYhCC,IAZgC,eActCX,YAAY,CAACW,IAAI,CAACZ,SAAN,CAAZ,CACAG,YAAY,CAAC,KAAD,CAAZ,CAfsC,iFAiBtCE,QAAQ,CAAC,YAAMQ,OAAP,CAAR,CACAV,YAAY,CAAC,KAAD,CAAZ,CAlBsC,qEAAD,GAoBtC,EApBsC,CAAzC,CAsBAT,SAAS,CAAC,UAAM,CACdY,qBAAqB,GACtB,CAFQ,CAEN,CAACA,qBAAD,CAFM,CAAT,CAIA,mBACE,wCACE,KAAC,MAAD,IADF,cAEE,MAAC,SAAD,YACG,CAACJ,SAAD,EAAcF,SAAS,CAACc,MAAV,CAAmB,CAAjC,eACC,KAAC,aAAD,EAAe,SAAS,CAAEd,SAA1B,EAFJ,CAIG,CAACE,SAAD,EAAcF,SAAS,CAACc,MAAV,GAAqB,CAAnC,EAAwC,CAACV,KAAzC,eACC,0CALJ,CAOGF,SAAS,eAAI,2CAPhB,CAQG,CAACA,SAAD,EAAcE,KAAd,eAAuB,mBAAIA,KAAJ,EAR1B,GAFF,GADF,CAeD,CAED,cAAeL,IAAf"},"metadata":{},"sourceType":"module"}